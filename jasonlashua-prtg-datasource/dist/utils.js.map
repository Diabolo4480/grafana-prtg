{"version":3,"sources":["../src/utils.js"],"names":["isRegex","str","regexPattern","test","isTemplateVariable","match","buildRegex","matches","pattern","flags","undefined","RegExp","escapeRegex","value","replace","filterMatch","findItem","filterStr","invert","result","rex"],"mappings":";;;;;;AAOO,WAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAC3B,WAAOC,aAAaC,IAAb,CAAkBF,GAAlB,CAAP;AACD;;qBAFeD,O;;AAIT,WAASI,kBAAT,CAA4BH,GAA5B,EAAiC;AACtC,QAAIA,IAAII,KAAJ,CAAU,OAAV,CAAJ,EAAwB;AACtB,aAAO,IAAP;AACD;AACD,WAAO,KAAP;AACD;;AAED;;gCAPgBD,kB;;AAQT,WAASE,UAAT,CAAoBL,GAApB,EAAyB;AAC9B,QAAIM,UAAUN,IAAII,KAAJ,CAAUH,YAAV,CAAd;AACA,QAAIM,UAAUD,QAAQ,CAAR,CAAd;AACA,QAAIE,QAAQF,QAAQ,CAAR,MAAe,EAAf,GAAoBA,QAAQ,CAAR,CAApB,GAAiCG,SAA7C;AACA,WAAO,IAAIC,MAAJ,CAAWH,OAAX,EAAoBC,KAApB,CAAP;AACD;;AAED;AACA;;wBARgBH,U;;AAST,WAASM,WAAT,CAAqBC,KAArB,EAA4B;AACjC,WAAOA,MAAMC,OAAN,CAAc,uBAAd,EAAuC,MAAvC,CAAP;AACD;;yBAFeF,W;;AAIT,WAASG,WAAT,CAAqBC,QAArB,EAA+BC,SAA/B,EAA0D;AAAA,QAAhBC,MAAgB,uEAAP,KAAO;;AAC/D,QAAIC,MAAJ;AACA,QAAGnB,QAAQiB,SAAR,CAAH,EAAuB;AACnB,UAAIG,MAAMd,WAAWW,SAAX,CAAV;AACAE,eAASC,IAAIjB,IAAJ,CAASa,QAAT,CAAT;AACH,KAHD,MAGO;AACHG,eAAUH,aAAaC,SAAvB;AACH;AACD,QAAIC,MAAJ,EAAY;AACR,aAAO,CAACC,MAAR;AACH;AACD,WAAOA,MAAP;AACD;;yBAZeJ,W;;;;;8BA3BHb,Y,GAAe,qB","file":"utils.js","sourcesContent":["/**\r\n * Global helper functions\r\n */\r\n\r\n// Pattern for testing regex\r\nexport const regexPattern = /^\\/(.*)\\/([gmi]*)$/m;\r\n\r\nexport function isRegex(str) {\r\n  return regexPattern.test(str);\r\n}\r\n\r\nexport function isTemplateVariable(str) {\r\n  if (str.match(/\\$\\w+/)) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n//STOLEN! From Alex Zobnin, who is evidently a much better programmer than I (he probably does it for a living)\r\nexport function buildRegex(str) {\r\n  var matches = str.match(regexPattern);\r\n  var pattern = matches[1];\r\n  var flags = matches[2] !== \"\" ? matches[2] : undefined;\r\n  return new RegExp(pattern, flags);\r\n}\r\n\r\n// Need for template variables replace\r\n// From Grafana's templateSrv.js\r\nexport function escapeRegex(value) {\r\n  return value.replace(/[\\\\^$*+?.()|[\\]{}\\/]/g, '\\\\$&');\r\n}\r\n\r\nexport function filterMatch(findItem, filterStr, invert = false) {\r\n  var result;\r\n  if(isRegex(filterStr)) {\r\n      var rex = buildRegex(filterStr);\r\n      result = rex.test(findItem);\r\n  } else {\r\n      result = (findItem === filterStr);\r\n  }\r\n  if (invert) {\r\n      return !result;\r\n  }\r\n  return result;\r\n}\r\n"]}